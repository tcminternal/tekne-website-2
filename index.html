<!DOCTYPE html>
<html lang="en" class="scroll-smooth bg-[#050505]">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tekne Capital Management</title>
    <meta name="description" content="Tekne Capital bridges the gap between present value and future utility.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        tekne: {
                            bg: '#050505',
                            card: '#0A0A0A',
                            accent: '#FF7300', 
                            accentDim: 'rgba(255, 115, 0, 0.3)',
                            secondary: '#888888',
                            border: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { -webkit-font-smoothing: antialiased; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; }

        .glass-panel {
            background: rgba(10, 10, 10, 0.4);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        /* Sticky Section Headers for Autonomy feel */
        .sticky-header {
            position: sticky;
            top: 4rem;
            height: fit-content;
        }

        /* Animation Utilities from original code */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .glow-effect {
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255, 115, 0, 0.15) 0%, rgba(0,0,0,0) 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 0;
            mix-blend-mode: screen;
        }
        .glow-card:hover .glow-effect { opacity: 1; }

        /* Modal */
        #disclaimer-modal { transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1), visibility 0.6s; }
        #disclaimer-modal.hidden-modal { opacity: 0; visibility: hidden; pointer-events: none; }
        
        /* Preloader */
        #preloader {
            position: fixed; inset: 0; background: #050505; z-index: 9999;
            display: flex; justify-content: center; align-items: center; transition: opacity 0.5s ease-out;
        }
    </style>
</head>
<body class="bg-tekne-bg text-white selection:bg-tekne-accent selection:text-black overflow-x-hidden">

    <div id="preloader">
        <div class="font-mono text-xs md:text-sm tracking-widest text-tekne-accent">
            BRINGING YOU TO TEKNE<span class="animate-pulse">...</span>
        </div>
    </div>

    <nav class="hidden lg:flex fixed left-0 top-0 h-full w-24 flex-col justify-between items-center py-8 z-50 border-r border-tekne-border bg-tekne-bg/50 backdrop-blur-sm">
        <a href="#" class="group">
            <img src="tekne.png" alt="T" class="w-10 opacity-80 group-hover:opacity-100 transition-opacity">
        </a>
        
        <div class="flex flex-col space-y-12 [writing-mode:vertical-lr] rotate-180 items-center">
            <a href="#contact" class="font-mono text-xs tracking-widest text-tekne-secondary hover:text-tekne-accent transition-colors py-2">CONTACT</a>
            <a href="#strategy" class="font-mono text-xs tracking-widest text-tekne-secondary hover:text-tekne-accent transition-colors py-2">APPROACH</a>
            <a href="#thesis" class="font-mono text-xs tracking-widest text-tekne-secondary hover:text-tekne-accent transition-colors py-2">THESIS</a>
        </div>
        <div class="w-[1px] h-12 bg-white/10"></div>
    </nav>

    <nav class="lg:hidden fixed top-0 w-full z-50 px-6 py-5 flex justify-between items-center bg-tekne-bg/90 backdrop-blur-md border-b border-white/5">
        <img src="tekne.png" alt="Tekne" class="w-20">
        <button onclick="toggleMobileMenu()" class="text-white"><i data-lucide="menu"></i></button>
    </nav>
    <div id="mobile-menu" class="fixed inset-0 bg-black z-40 flex flex-col justify-center items-center opacity-0 pointer-events-none transition-opacity duration-300 lg:hidden">
        <a href="#thesis" onclick="toggleMobileMenu()" class="text-2xl font-light mb-8">The Thesis</a>
        <a href="#strategy" onclick="toggleMobileMenu()" class="text-2xl font-light mb-8">Strategy</a>
        <a href="#contact" onclick="toggleMobileMenu()" class="text-2xl font-light">Contact</a>
    </div>

    <div class="relative z-10 lg:pl-24 w-full max-w-[1920px] mx-auto">

        <main id="hero-section" class="relative min-h-screen flex flex-col justify-center px-6 md:px-20 lg:px-32 overflow-hidden">
            
            <canvas id="heroRippleCanvas" class="absolute inset-0 w-full h-full z-0 pointer-events-auto cursor-crosshair opacity-60"></canvas>

            <div class="relative z-10 pointer-events-none max-w-6xl">
                <div class="reveal delay-100 font-mono text-tekne-accent text-xs mb-8 tracking-[0.2em] uppercase">
                    TEKNE CAPITAL
                </div>
                <h1 class="reveal delay-200 text-6xl md:text-8xl lg:text-[9rem] font-medium tracking-tighter leading-[0.9] mb-12 bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-gray-600">
                    Future.<br>Financed.
                </h1>
                <p class="reveal delay-300 text-lg md:text-xl text-tekne-secondary max-w-xl font-light leading-relaxed border-l border-tekne-accent pl-6">
                    Investing in the future of technology across the world.
                </p>
            </div>
            
            <div class="absolute bottom-10 left-6 md:left-20 lg:left-32 animate-bounce z-10 pointer-events-none">
                <i data-lucide="arrow-down" class="text-tekne-secondary w-6 h-6"></i>
            </div>
        </main>

        <section id="thesis" class="py-32 px-6 md:px-20 lg:px-32 border-t border-tekne-border">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-16">
                
                <div class="lg:col-span-4">
                    <div class="sticky-header">
                        <span class="font-mono text-tekne-accent text-xs tracking-widest block mb-4">// 01 OVERVIEW</span>
                        <h2 class="text-4xl md:text-5xl font-light leading-tight mb-8">
                            Track record of delivery.
                        </h2>
                        <div class="reveal space-y-6 text-tekne-secondary font-light leading-relaxed">
                            <p>Tekne Capital is a global technology investment manager based in New York. We manage over USD$1 billion, focusing exclusively on tech-related businesses with a heavy tilt towards non-US markets.</p>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="reveal glass-panel rounded-xl group overflow-hidden relative glow-card cursor-pointer aspect-video">
                            <div class="glow-effect"></div>
                            <div class="relative z-10 w-full h-full bg-black/50">
                                <img src="https://img.youtube.com/vi/DXjPbZbgcvY/hqdefault.jpg" class="w-full h-full object-cover grayscale group-hover:grayscale-0 opacity-80 group-hover:opacity-100 transition-all duration-500">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-12 h-12 bg-tekne-accent/90 rounded-full flex items-center justify-center text-black shadow-lg scale-90 group-hover:scale-100 transition-transform">
                                        <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black to-transparent z-20">
                                <h3 class="text-white text-xs font-mono uppercase">Bull Case for Chinese Equities</h3>
                            </div>
                            <a href="https://www.youtube.com/watch?v=DXjPbZbgcvY" target="_blank" class="absolute inset-0 z-30"></a>
                        </div>
                         <div class="reveal glass-panel rounded-xl group overflow-hidden relative glow-card cursor-pointer aspect-video" style="transition-delay: 100ms">
                            <div class="glow-effect"></div>
                            <div class="relative z-10 w-full h-full bg-black/50">
                                <img src="https://img.youtube.com/vi/2zdv5LvMLR0/hqdefault.jpg" class="w-full h-full object-cover grayscale group-hover:grayscale-0 opacity-80 group-hover:opacity-100 transition-all duration-500">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-12 h-12 bg-tekne-accent/90 rounded-full flex items-center justify-center text-black shadow-lg scale-90 group-hover:scale-100 transition-transform">
                                        <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black to-transparent z-20">
                                <h3 class="text-white text-xs font-mono uppercase">Investing in China</h3>
                            </div>
                            <a href="https://www.youtube.com/watch?v=2zdv5LvMLR0" target="_blank" class="absolute inset-0 z-30"></a>
                        </div>
                         <div class="reveal glass-panel rounded-xl group overflow-hidden relative glow-card cursor-pointer aspect-video" style="transition-delay: 200ms">
                            <div class="glow-effect"></div>
                            <div class="relative z-10 w-full h-full bg-black/50">
                                <img src="https://img.youtube.com/vi/oQ4wXzFB8zg/hqdefault.jpg" class="w-full h-full object-cover grayscale group-hover:grayscale-0 opacity-80 group-hover:opacity-100 transition-all duration-500">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-12 h-12 bg-tekne-accent/90 rounded-full flex items-center justify-center text-black shadow-lg scale-90 group-hover:scale-100 transition-transform">
                                        <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black to-transparent z-20">
                                <h3 class="text-white text-xs font-mono uppercase">Tech Stocks Outperform</h3>
                            </div>
                            <a href="https://www.youtube.com/watch?v=oQ4wXzFB8zg" target="_blank" class="absolute inset-0 z-30"></a>
                        </div>
                         <div class="reveal glass-panel rounded-xl group overflow-hidden relative glow-card cursor-pointer aspect-video" style="transition-delay: 300ms">
                            <div class="glow-effect"></div>
                            <div class="relative z-10 w-full h-full bg-black/50">
                                <img src="https://img.youtube.com/vi/k1Snq3uLURw/hqdefault.jpg" class="w-full h-full object-cover grayscale group-hover:grayscale-0 opacity-80 group-hover:opacity-100 transition-all duration-500">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="w-12 h-12 bg-tekne-accent/90 rounded-full flex items-center justify-center text-black shadow-lg scale-90 group-hover:scale-100 transition-transform">
                                        <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black to-transparent z-20">
                                <h3 class="text-white text-xs font-mono uppercase">Alpha-Rich Companies</h3>
                            </div>
                            <a href="https://www.youtube.com/watch?v=k1Snq3uLURw" target="_blank" class="absolute inset-0 z-30"></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="strategy" class="py-32 px-6 md:px-20 lg:px-32 border-t border-tekne-border">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-16">
                
                <div class="lg:col-span-4 z-20 pointer-events-none">
                    <div class="sticky-header pointer-events-auto">
                        <span class="font-mono text-tekne-accent text-xs tracking-widest block mb-4">// 02 APPROACH</span>
                        <h2 class="text-4xl md:text-5xl font-light leading-tight mb-8">
                            Core Focus & Mandate
                        </h2>
                        <div class="space-y-8">
                            <div class="reveal">
                                <h4 class="text-white text-sm font-medium mb-2 flex items-center"><i data-lucide="globe" class="w-4 h-4 mr-2 text-tekne-accent"></i> Global Team</h4>
                                <p class="text-tekne-secondary text-sm font-light">Americas / EMEA / APAC</p>
                            </div>
                            <div class="reveal">
                                <h4 class="text-white text-sm font-medium mb-2 flex items-center"><i data-lucide="layers" class="w-4 h-4 mr-2 text-tekne-accent"></i> Concentrated Portfolio</h4>
                                <p class="text-tekne-secondary text-sm font-light">Owning a diversified group of leading non-US technology companies.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-8 h-[600px] relative rounded-2xl overflow-hidden border border-white/10 bg-black/50 reveal glow-card" id="symbiosis-container">
                    <div class="glow-effect"></div>
                    
                    <div class="absolute inset-0 z-0 opacity-100 pointer-events-auto overflow-hidden">
                         <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#0A0A0A] z-10 pointer-events-none"></div>
                        <canvas id="symbiosisCanvas" class="w-full h-full mix-blend-screen"></canvas>
                    </div>

                    <div class="absolute bottom-6 left-6 right-6 flex items-end justify-between z-20 pointer-events-none">
                        <div class="glass-panel p-6 rounded-xl flex items-center gap-4 pointer-events-auto max-w-sm">
                            <img src="beeneet1.png" class="w-14 h-14 rounded-full object-cover grayscale opacity-80">
                            <div>
                                <h3 class="text-lg font-medium text-white">Beeneet Kothari</h3>
                                <p class="text-tekne-secondary text-xs mt-1 font-mono tracking-wider">Managing Director</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-32 px-6 md:px-20 lg:px-32 border-t border-tekne-border bg-[#080808]">
            <div class="max-w-4xl mx-auto">
                <span class="font-mono text-tekne-accent text-xs tracking-widest">// 03 CONTACT</span>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 mt-12">
                    <div>
                        <h2 class="text-4xl font-light mb-8">New York</h2>
                        <p class="text-tekne-secondary text-lg font-light leading-relaxed">
                            Tekne Capital Management, LLC<br>
                            400 Madison Avenue<br>
                            New York, NY 10017
                        </p>
                    </div>
                    <div class="glass-panel p-10 rounded-2xl border border-white/5">
                        <div class="space-y-6">
                            <div class="flex flex-col">
                                <span class="text-xs font-mono uppercase text-tekne-secondary mb-1">Phone</span>
                                <span class="text-xl">212-300-9530</span>
                            </div>
                            <div class="flex flex-col">
                                <span class="text-xs font-mono uppercase text-tekne-secondary mb-1">Email</span>
                                <a href="mailto:info@teknecap.com" class="text-xl hover:text-tekne-accent transition-colors">info@teknecap.com</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="py-12 px-6 md:px-20 lg:px-32 border-t border-tekne-border flex flex-col md:flex-row justify-between items-center text-[10px] font-mono uppercase tracking-wider text-tekne-secondary">
            <div>&copy; 2025 Tekne Capital Management, LLC.</div>
            <div class="flex gap-8 mt-4 md:mt-0">
                <a href="#" onclick="openDisclaimer(event)" class="hover:text-white transition-colors">Legal Disclaimer</a>
                <a href="mailto:info@teknecap.com" class="hover:text-white transition-colors">Contact</a>
            </div>
        </footer>

    </div>

    <div id="disclaimer-modal" class="hidden-modal fixed inset-0 z-[100] flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/90 backdrop-blur-xl" onclick="closeDisclaimer()"></div>
        
        <canvas id="disclaimerRippleCanvas" class="absolute inset-0 w-full h-full pointer-events-auto cursor-pointer opacity-50"></canvas>

        <div class="modal-content relative z-10 max-w-2xl w-full max-h-[85vh] overflow-y-auto glass-panel rounded-2xl p-8 md:p-12 border border-tekne-accent/20 shadow-[0_0_50px_rgba(255,115,0,0.1)]">
            <div class="flex justify-between items-start mb-8">
                <div>
                    <span class="font-mono text-tekne-accent text-xs tracking-widest">// LEGAL</span>
                    <h2 class="text-2xl md:text-3xl font-light text-white mt-2">Disclaimer</h2>
                </div>
                <button onclick="closeDisclaimer()" class="text-tekne-secondary hover:text-white"><i data-lucide="x"></i></button>
            </div>
            <div class="space-y-6 text-sm text-tekne-secondary font-light leading-relaxed">
                <p>The information contained herein is not an offer to sell or a solicitation of an offer to buy any security or to participate in any trading strategy. Any such offer would only be made to qualified investors through a private offering memorandum.</p>
                <p>Past performance is not indicative of future results. All investments involve risk, including the loss of principal.</p>
                <p>This website is intended for informational purposes only and does not constitute investment advice. Tekne Capital Management is an investment adviser registered with the U.S. Securities and Exchange Commission.</p>
            </div>
            <div class="mt-8 pt-8 border-t border-white/10 flex justify-end">
                <button onclick="closeDisclaimer()" class="px-6 py-2 bg-tekne-accent/10 hover:bg-tekne-accent text-tekne-accent hover:text-black rounded-full text-xs font-mono transition-all duration-300 border border-tekne-accent/20">ACKNOWLEDGE</button>
            </div>
        </div>
    </div>

    <script>
        // --- 1. INITIALIZATION ---
        lucide.createIcons();

        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            setTimeout(() => {
                preloader.style.opacity = '0';
                setTimeout(() => {
                    preloader.style.display = 'none';
                    initScrollAnimations();
                    initHeroRippleSystem(); // Restored
                    initSymbiosisAnimation(); // Restored
                }, 500);
            }, 1500);
        });

        // --- 2. HERO RIPPLE SYSTEM (Restored from Original Code) ---
        function initHeroRippleSystem() {
            const canvas = document.getElementById('heroRippleCanvas');
            const heroSection = document.getElementById('hero-section');
            if (!canvas || !heroSection) return;

            const ctx = canvas.getContext('2d');
            let width, height;

            // Load Globe Image (Required for masking effect)
            const globeImg = new Image();
            globeImg.src = 'globe.jpg';
            
            const mouse = { x: -1000, y: -1000, vx: 0, vy: 0, lastX: -1000, lastY: -1000 };
            
            heroSection.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
                mouse.vx = mouse.x - mouse.lastX;
                mouse.vy = mouse.y - mouse.lastY;
                mouse.lastX = mouse.x;
                mouse.lastY = mouse.y;
            });
            
            heroSection.addEventListener('mouseleave', () => { mouse.x = -1000; mouse.y = -1000; });

            function resize() {
                const rect = heroSection.getBoundingClientRect();
                width = rect.width;
                height = rect.height;
                canvas.width = width;
                canvas.height = height;
            }
            window.addEventListener('resize', resize);
            resize();

            // Particle Class (Original)
            class RingParticle {
                constructor(angle) {
                    this.angle = angle;
                    this.offsetX = 0; this.offsetY = 0;
                    this.vx = 0; this.vy = 0;
                }
                update(centerX, centerY, ringRadius, mouse) {
                    const idealX = centerX + Math.cos(this.angle) * ringRadius;
                    const idealY = centerY + Math.sin(this.angle) * ringRadius;
                    let currentX = idealX + this.offsetX;
                    let currentY = idealY + this.offsetY;

                    const dx = currentX - mouse.x;
                    const dy = currentY - mouse.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const interactionRadius = 120;

                    if (dist < interactionRadius) {
                        const force = (interactionRadius - dist) / interactionRadius;
                        const angleToMouse = Math.atan2(dy, dx);
                        this.vx += Math.cos(angleToMouse) * force * 3 + (Math.random()-0.5);
                        this.vy += Math.sin(angleToMouse) * force * 3 + (Math.random()-0.5);
                    }
                    this.offsetX += this.vx; this.offsetY += this.vy;
                    this.vx *= 0.92; this.vy *= 0.92;
                    this.vx -= this.offsetX * 0.05; this.vy -= this.offsetY * 0.05;
                    return { x: currentX, y: currentY };
                }
            }

            class Ripple {
                constructor(delay = 0) {
                    this.radius = 0;
                    this.maxRadius = Math.max(width, height) * 0.8; 
                    this.opacity = 1;
                    this.speed = 4;
                    this.delay = delay;
                    this.active = false;
                    this.particles = [];
                    const particleCount = 450; 
                    for(let i=0; i<particleCount; i++) {
                        const angle = (i / particleCount) * Math.PI * 2;
                        this.particles.push(new RingParticle(angle));
                    }
                }
                reset() {
                    this.radius = 0;
                    this.opacity = 0.8;
                    this.active = true;
                    this.particles.forEach(p => { p.offsetX = 0; p.offsetY = 0; p.vx = 0; p.vy = 0; });
                }
                updateAndDrawMask(ctx, centerX, centerY, mouse) {
                    if (this.delay > 0) { this.delay--; return; }
                    if (!this.active) this.reset();
                    this.radius += this.speed;
                    this.opacity = 1 - (this.radius / this.maxRadius);
                    if (this.opacity <= 0) this.reset();

                    if (this.opacity > 0) {
                        ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                        ctx.beginPath();
                        this.particles.forEach(p => {
                            const pos = p.update(centerX, centerY, this.radius, mouse);
                            ctx.moveTo(pos.x, pos.y);
                            ctx.arc(pos.x, pos.y, 4, 0, Math.PI * 2); 
                        });
                        ctx.fill();
                    }
                }
            }

            const ripples = [new Ripple(0), new Ripple(45), new Ripple(90)];

            function animate() {
                ctx.clearRect(0, 0, width, height);
                const centerX = width / 2;
                const centerY = height / 2;
                
                // Draw Ripples
                ctx.save();
                ctx.shadowBlur = 40; ctx.shadowColor = "white"; 
                ripples.forEach(r => r.updateAndDrawMask(ctx, centerX, centerY, mouse));
                
                // Composite Image (Source-in logic)
                ctx.globalCompositeOperation = 'source-in';
                if (globeImg.complete && globeImg.naturalWidth > 0) {
                    const scale = Math.max(width / globeImg.width, height / globeImg.height);
                    const x = (width / 2) - (globeImg.width / 2) * scale;
                    const y = (height / 2) - (globeImg.height / 2) * scale;
                    ctx.drawImage(globeImg, x, y, globeImg.width * scale, globeImg.height * scale);
                } else {
                    // Fallback if image not found (just white ripples)
                     ctx.fillStyle = "#222";
                     ctx.fillRect(0,0,width,height);
                }
                ctx.restore();
                requestAnimationFrame(animate);
            }
            animate();
        }

        // --- 3. 3D VECTOR SYMBIOSIS (Restored from Original Code) ---
        function initSymbiosisAnimation() {
            const canvas = document.getElementById('symbiosisCanvas');
            const container = document.getElementById('symbiosis-container');
            if (!canvas || !container) return;
            const ctx = canvas.getContext('2d');
            let width, height;

            function resize() {
                const rect = container.getBoundingClientRect();
                width = rect.width;
                height = rect.height;
                canvas.width = width;
                canvas.height = height;
            }
            window.addEventListener('resize', resize);
            resize();

            class Point3D {
                constructor(x, y, z) { this.x = x; this.y = y; this.z = z; }
            }

            const numPoints = 160;
            const publicPath = []; 
            const privatePath = []; 
            const publicSprings = Array.from({length: numPoints}, () => ({x:0, y:0, vx:0, vy:0}));
            const privateSprings = Array.from({length: numPoints}, () => ({x:0, y:0, vx:0, vy:0}));
            const indicesList = ["NASDAQ", "SGX", "HKEX", "TSE", "NSE", "B3", "LSE", "NYSE"];

            let rotationX = 0, rotationY = 0;
            let mouse = { x: -1000, y: -1000 };
            
            container.addEventListener('mousemove', (e) => {
                const rect = container.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });
            container.addEventListener('mouseleave', () => { mouse.x = -1000; mouse.y = -1000; });

            function generatePaths(time) {
                publicPath.length = 0; privatePath.length = 0;
                const scale = Math.min(width, height) * 0.35;
                for (let i = 0; i < numPoints; i++) {
                    const t = (i / numPoints) * Math.PI * 2 + time * 0.2;
                    const p = 2, q = 3, r = 0.4, R = 1;
                    publicPath.push(new Point3D(
                        scale * (R + r * Math.cos(q * t)) * Math.cos(p * t),
                        scale * (R + r * Math.cos(q * t)) * Math.sin(p * t),
                        scale * (r * Math.sin(q * t))
                    ));
                    const t2 = t * 1.5 + time * 0.5;
                    privatePath.push(new Point3D(
                        scale * 1.2 * Math.sin(5 * t2 + time * 0.1),
                        scale * 1.2 * Math.sin(4 * t2),
                        scale * 1.2 * Math.sin(3 * t2 + time * 0.2)
                    ));
                }
            }

            function project(p, cx, cy) {
                const fov = 400;
                const cosY = Math.cos(rotationY), sinY = Math.sin(rotationY);
                const x1 = p.x * cosY - p.z * sinY, z1 = p.z * cosY + p.x * sinY;
                const cosX = Math.cos(rotationX), sinX = Math.sin(rotationX);
                const y2 = p.y * cosX - z1 * sinX, z2 = z1 * cosX + p.y * sinX;
                const scale = fov / (fov + z2 + 400); 
                return { x: cx + x1 * scale, y: cy + y2 * scale, z: z2 };
            }

            function updatePhysics(p, spring, mouseX, mouseY) {
                const dx = p.x - mouseX, dy = p.y - mouseY;
                const dist = Math.sqrt(dx*dx + dy*dy);
                let targetX = 0, targetY = 0;
                if (dist < 150) {
                    const angle = Math.atan2(dy, dx);
                    const push = ((150 - dist) / 150) ** 2 * 120; 
                    targetX = Math.cos(angle) * push;
                    targetY = Math.sin(angle) * push;
                }
                spring.vx = (spring.vx + (targetX - spring.x) * 0.05) * 0.9;
                spring.vy = (spring.vy + (targetY - spring.y) * 0.05) * 0.9;
                spring.x += spring.vx; spring.y += spring.vy;
                p.x += spring.x; p.y += spring.y;
            }

            let time = 0;
            function animate() {
                ctx.clearRect(0, 0, width, height);
                ctx.globalCompositeOperation = 'lighter'; 
                const cx = width / 2, cy = height / 2;
                
                rotationY += 0.002; 
                rotationX = Math.sin(time * 0.5) * 0.2; time += 0.01;
                
                generatePaths(time);
                
                const projPublic = publicPath.map(p => project(p, cx, cy));
                const projPrivate = privatePath.map(p => project(p, cx, cy));
                
                for(let i=0; i<numPoints; i++) {
                    updatePhysics(projPublic[i], publicSprings[i], mouse.x, mouse.y);
                    updatePhysics(projPrivate[i], privateSprings[i], mouse.x, mouse.y);
                }

                // Connections
                ctx.lineWidth = 1;
                for (let i = 0; i < projPublic.length; i += 2) {
                    if (projPublic[i].z > -200) {
                        for (let j = 0; j < projPrivate.length; j += 3) {
                            const dx = projPublic[i].x - projPrivate[j].x;
                            const dy = projPublic[i].y - projPrivate[j].y;
                            const dist = Math.sqrt(dx*dx + dy*dy);
                            if (dist < 80) { 
                                ctx.beginPath();
                                ctx.strokeStyle = `rgba(255, 115, 0, ${(1 - dist / 80) * 0.4})`; 
                                ctx.moveTo(projPublic[i].x, projPublic[i].y);
                                ctx.lineTo(projPrivate[j].x, projPrivate[j].y);
                                ctx.stroke();
                            }
                        }
                    }
                }
                
                const drawPath = (path, color, width) => {
                    ctx.beginPath(); ctx.strokeStyle = color; ctx.lineWidth = width;
                    path.forEach((p, i) => i===0 ? ctx.moveTo(p.x, p.y) : ctx.lineTo(p.x, p.y));
                    ctx.closePath(); ctx.stroke();
                };
                drawPath(projPublic, 'rgba(255, 255, 255, 0.15)', 1.5);
                drawPath(projPrivate, 'rgba(255, 115, 0, 0.4)', 2);

                ctx.globalCompositeOperation = 'source-over';
                ctx.font = "11px 'JetBrains Mono', monospace";
                ctx.letterSpacing = "1px";
                ctx.textAlign = "left";
                
                indicesList.forEach((indexName, i) => {
                    const pointIndex = Math.floor((i / indicesList.length) * numPoints);
                    const p = projPrivate[pointIndex];
                    if (p.z > -300) {
                        const opacity = Math.min(1, Math.max(0, (p.z + 500) / 600));
                        ctx.fillStyle = `rgba(255, 115, 0, ${opacity})`;
                        ctx.fillText(indexName, p.x + 10, p.y + 4);
                        ctx.fillRect(p.x - 1, p.y - 1, 2, 2);
                    }
                });
                requestAnimationFrame(animate);
            }
            animate();
        }

        // --- 4. DISCLAIMER LIQUID ---
        let disclaimerAnimationId;
        function openDisclaimer(event) {
            if(event) event.preventDefault();
            document.getElementById('disclaimer-modal').classList.remove('hidden-modal');
            initDisclaimerRippleSystem();
        }
        function closeDisclaimer() {
            document.getElementById('disclaimer-modal').classList.add('hidden-modal');
            if(disclaimerAnimationId) cancelAnimationFrame(disclaimerAnimationId);
        }

        function initDisclaimerRippleSystem() {
            const canvas = document.getElementById('disclaimerRippleCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            let width, height;
            const mouse = { x: -1000, y: -1000 };
            
            canvas.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left; mouse.y = e.clientY - rect.top;
            });

            function resize() {
                width = window.innerWidth; height = window.innerHeight;
                canvas.width = width; canvas.height = height;
            }
            window.addEventListener('resize', resize);
            resize();

            class DiscRingParticle {
                constructor(angle) {
                    this.angle = angle; this.offsetX = 0; this.offsetY = 0; this.vx = 0; this.vy = 0;
                }
                update(centerX, centerY, ringRadius, mouse) {
                    const idealX = centerX + Math.cos(this.angle) * ringRadius;
                    const idealY = centerY + Math.sin(this.angle) * ringRadius;
                    let currentX = idealX + this.offsetX; let currentY = idealY + this.offsetY;
                    const dx = currentX - mouse.x; const dy = currentY - mouse.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < 200) {
                        const force = (200 - dist) / 200;
                        const angleToMouse = Math.atan2(dy, dx);
                        this.vx += Math.cos(angleToMouse) * force * 2 + (Math.random()-0.5);
                        this.vy += Math.sin(angleToMouse) * force * 2 + (Math.random()-0.5);
                    }
                    this.offsetX += this.vx; this.offsetY += this.vy;
                    this.vx *= 0.95; this.vy *= 0.95;
                    this.vx -= this.offsetX * 0.02; this.vy -= this.offsetY * 0.02;
                    return { x: currentX, y: currentY };
                }
            }

            class DiscRipple {
                constructor(delay = 0) {
                    this.radius = 0; this.maxRadius = Math.max(width, height); 
                    this.opacity = 1; this.speed = 3; this.delay = delay; this.active = false;
                    this.particles = [];
                    for(let i=0; i<300; i++) this.particles.push(new DiscRingParticle((i/300)*Math.PI*2));
                }
                reset() { this.radius = 0; this.active = true; this.particles.forEach(p=>{p.offsetX=0;p.offsetY=0;p.vx=0;p.vy=0}); }
                draw(ctx, centerX, centerY, mouse) {
                    if (this.delay > 0) { this.delay--; return; }
                    if (!this.active) this.reset();
                    this.radius += this.speed;
                    this.opacity = (1 - (this.radius / this.maxRadius)) * 0.4;
                    if (this.opacity <= 0) this.reset();
                    if (this.opacity > 0) {
                        ctx.strokeStyle = `rgba(255, 115, 0, ${this.opacity})`; ctx.lineWidth = 2;
                        ctx.beginPath();
                        this.particles.forEach((p, i) => {
                            const pos = p.update(centerX, centerY, this.radius, mouse);
                            i===0 ? ctx.moveTo(pos.x, pos.y) : ctx.lineTo(pos.x, pos.y);
                        });
                        ctx.closePath(); ctx.stroke();
                    }
                }
            }
            const ripples = [new DiscRipple(0), new DiscRipple(60), new DiscRipple(120)];
            function animate() {
                ctx.clearRect(0, 0, width, height);
                ripples.forEach(r => r.draw(ctx, width/2, height/2, mouse));
                disclaimerAnimationId = requestAnimationFrame(animate);
            }
            animate();
        }

        // --- 5. HELPERS (Glow, Scroll, etc.) ---
        document.querySelectorAll('.glow-card').forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const glow = card.querySelector('.glow-effect');
                if(glow) { glow.style.left = `${e.clientX - rect.left}px`; glow.style.top = `${e.clientY - rect.top}px`; }
            });
        });

        function initScrollAnimations() {
            const reveals = document.querySelectorAll('.reveal');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) { entry.target.classList.add('active'); }
                });
            }, { threshold: 0.1 });
            reveals.forEach(element => observer.observe(element));
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if(!menu) return;
            menu.style.opacity = menu.style.opacity === '1' ? '0' : '1';
            menu.style.pointerEvents = menu.style.pointerEvents === 'auto' ? 'none' : 'auto';
        }
    </script>
</body>
</html>
